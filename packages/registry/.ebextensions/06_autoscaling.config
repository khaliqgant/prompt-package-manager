# Auto Scaling configuration
# Scales based on CPU utilization

option_settings:
  # Auto Scaling Group
  aws:autoscaling:asg:
    MinSize: 1
    MaxSize: 2
    Cooldown: 360  # 6 minutes between scaling activities

  # Scaling triggers
  aws:autoscaling:trigger:
    MeasureName: CPUUtilization
    Statistic: Average
    Unit: Percent
    UpperThreshold: 70
    UpperBreachScaleIncrement: 1
    LowerThreshold: 30
    LowerBreachScaleIncrement: -1
    BreachDuration: 5  # Minutes

  # Launch configuration
  aws:autoscaling:launchconfiguration:
    EC2KeyName: ""  # Optional: SSH key for debugging
    MonitoringInterval: "1 minute"
